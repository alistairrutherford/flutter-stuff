// This is a basic Flutter widget test.
//
// To perform an interaction with a widget in your test, use the WidgetTester
// utility that Flutter provides. For example, you can send tap and scroll
// gestures. You can also use WidgetTester to find child widgets in the widget
// tree, read text, and verify that the values of widget properties are correct.

import 'dart:convert';
import 'dart:io';

import 'package:flutter_test/flutter_test.dart';
import 'package:provider6/datex/datex.dart';

//  Paste json in-between single quotes, select and Ctrl-Shift-J to collapse into one line.

//formatter:off
const String VMS_JSON = '{ "version":"1.0", "encoding":"UTF-8", "d2LogicalModel":{ "xmlns":"http://datex2.eu/schema/1_0/1_0", "xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance", "xmlns:xalan":"http://xml.apache.org/xslt", "modelBaseVersion":"1.0", "xsi:schemaLocation":"http://datex2.eu/schema/1_0/1_0 http://datex2.eu/schema/1_0/1_0/DATEXIISchema_1_0_1_0.xsd", "exchange":{ "supplierIdentification":{ "country":"gb", "nationalIdentifier":"TIH Toolkit" } }, "payloadPublication":{ "lang":"en", "xsi:type":"SituationPublication", "publicationTime":"2020-03-19T13:34:27", "publicationCreator":{ "country":"gb", "nationalIdentifier":"TIH Toolkit" }, "situation":[ { "id":"VMS_Situation_SI005V", "headerInformation":{ "confidentiality":"noRestriction", "informationStatus":"real" }, "situationRecord":{ "xsi:type":"VariableMessageSignSetting", "id":"VMS_Situation_Record_SI005V", "situationRecordCreationTime":"2020-03-19T13:34:27", "situationRecordVersion":"1", "situationRecordVersionTime":"2020-03-19T13:34:27", "situationRecordFirstSupplierVersionTime":"2020-03-19T13:34:27", "probabilityOfOccurrence":"certain", "validity":{ "validityStatus":"active", "validityTimeSpecification":{ "overallStartTime":"2020-03-19T13:34:27" } }, "groupOfLocations":{ "xsi:type":"GroupOfLocationsByReference", "locationContainedInGroup":{ "xsi:type":"LocationByReference", "predefinedLocationReference":"VMS_SI005V" }, "predefinedLocationSetReference":"VMSLocations_1" }, "timeLastSet":"2020-03-19T13:34:14", "vmsIdentifier":"SI005V", "vmsLegend":[ "ROADWORKS", "HAGGS RD AT", "SHAWMOSS RD", "EXPECT DELAYS" ] } }, { "id":"VMS_Situation_SI004V", "headerInformation":{ "confidentiality":"noRestriction", "informationStatus":"real" }, "situationRecord":{ "xsi:type":"VariableMessageSignSetting", "id":"VMS_Situation_Record_SI004V", "situationRecordCreationTime":"2020-03-19T13:34:27", "situationRecordVersion":"1", "situationRecordVersionTime":"2020-03-19T13:34:27", "situationRecordFirstSupplierVersionTime":"2020-03-19T13:34:27", "probabilityOfOccurrence":"certain", "validity":{ "validityStatus":"active", "validityTimeSpecification":{ "overallStartTime":"2020-03-19T13:34:27" } }, "groupOfLocations":{ "xsi:type":"GroupOfLocationsByReference", "locationContainedInGroup":{ "xsi:type":"LocationByReference", "predefinedLocationReference":"VMS_SI004V" }, "predefinedLocationSetReference":"VMSLocations_1" }, "timeLastSet":"2020-03-19T09:18:13", "vmsIdentifier":"SI004V", "vmsLegend":[ "GO SAFE GLASGOW", "WATCH", "YOUR", "SPEED" ] } }, { "id":"VMS_Situation_SI003V", "headerInformation":{ "confidentiality":"noRestriction", "informationStatus":"real" }, "situationRecord":{ "xsi:type":"VariableMessageSignSetting", "id":"VMS_Situation_Record_SI003V", "situationRecordCreationTime":"2020-03-19T13:34:27", "situationRecordVersion":"1", "situationRecordVersionTime":"2020-03-19T13:34:27", "situationRecordFirstSupplierVersionTime":"2020-03-19T13:34:27", "probabilityOfOccurrence":"certain", "validity":{ "validityStatus":"active", "validityTimeSpecification":{ "overallStartTime":"2020-03-19T13:34:27" } }, "groupOfLocations":{ "xsi:type":"GroupOfLocationsByReference", "locationContainedInGroup":{ "xsi:type":"LocationByReference", "predefinedLocationReference":"VMS_SI003V" }, "predefinedLocationSetReference":"VMSLocations_1" }, "timeLastSet":"2020-03-19T13:34:13", "vmsIdentifier":"SI003V", "vmsLegend":[ "GO SAFE GLASGOW", "FASTEN", "YOUR", "SEATBELT" ] } }, { "id":"VMS_Situation_SI002V", "headerInformation":{ "confidentiality":"noRestriction", "informationStatus":"real" }, "situationRecord":{ "xsi:type":"VariableMessageSignSetting", "id":"VMS_Situation_Record_SI002V", "situationRecordCreationTime":"2020-03-19T13:34:27", "situationRecordVersion":"1", "situationRecordVersionTime":"2020-03-19T13:34:27", "situationRecordFirstSupplierVersionTime":"2020-03-19T13:34:27", "probabilityOfOccurrence":"certain", "validity":{ "validityStatus":"active", "validityTimeSpecification":{ "overallStartTime":"2020-03-19T13:34:27" } }, "groupOfLocations":{ "xsi:type":"GroupOfLocationsByReference", "locationContainedInGroup":{ "xsi:type":"LocationByReference", "predefinedLocationReference":"VMS_SI002V" }, "predefinedLocationSetReference":"VMSLocations_1" }, "timeLastSet":"2020-03-19T13:27:22", "vmsIdentifier":"SI002V", "vmsLegend":[ "GO SAFE GLASGOW", "SLOW", "DOWN", "IN TOWN" ] } }, { "id":"VMS_Situation_SI001V", "headerInformation":{ "confidentiality":"noRestriction", "informationStatus":"real" }, "situationRecord":{ "xsi:type":"VariableMessageSignSetting", "id":"VMS_Situation_Record_SI001V", "situationRecordCreationTime":"2020-03-19T13:34:27", "situationRecordVersion":"1", "situationRecordVersionTime":"2020-03-19T13:34:27", "situationRecordFirstSupplierVersionTime":"2020-03-19T13:34:27", "probabilityOfOccurrence":"certain", "validity":{ "validityStatus":"active", "validityTimeSpecification":{ "overallStartTime":"2020-03-19T13:34:27" } }, "groupOfLocations":{ "xsi:type":"GroupOfLocationsByReference", "locationContainedInGroup":{ "xsi:type":"LocationByReference", "predefinedLocationReference":"VMS_SI001V" }, "predefinedLocationSetReference":"VMSLocations_1" }, "timeLastSet":"2020-03-19T13:28:16", "vmsIdentifier":"SI001V", "vmsLegend":[ "ROADWORKS", "AIKENHEAD RD AT", "CARMUNNOCK RD", "EXPECT DELAYS" ] } } ] } } }';
//formatter:on

void main() {

  testWidgets('Test load', (WidgetTester tester) async {
    final json = jsonDecode(VMS_JSON);

    D2LogicalModel d2logicalModel = D2LogicalModel.fromJson(json);

    expect(d2logicalModel, isNotNull);
  });

}
